syntax = "proto3";

package signal.v1;

import "sensor/v1/sensor.proto";
import "pin/v1/pin.proto";

message CreateSignalRequest {
    CmdType type = 1;
    oneof command {
        pin.v1.CreateOrUpdatePinRequest.Configuration pin_config = 2; // Configure pin
        pin.v1.CreateOrUpdatePinRequest.Event pin_event = 3; // Configure pin
        sensor.v1.Sensor.Type sensor_config = 4; // Unified Sensor API
        sensor.v1.Sensor.Event sensor_event = 5; // Unified Sensor API
    }

    // Command types
    enum CmdType {
      CMD_TYPE_UNSPECIFIED = 0; // Unspecified/invalid command name
      CMD_TYPE_PIN         = 1; // Pin command
      CMD_TYPE_PWM_OUTPUT  = 2; // Output PWM on a provided pin
      CMD_TYPE_SENSOR      = 3; // Read sensor details
      CMD_TYPE_PIXEL       = 4; // Pixel API
    }
}

message CreateSignalResponse {
    oneof response {
        pin.v1.CreateOrUpdatePinResponse pin_resp = 1;
    }
}
