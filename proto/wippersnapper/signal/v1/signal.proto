// SPDX-FileCopyrightText: 2020 Brent Rubell for Adafruit Industries
// SPDX-License-Identifier: MIT
syntax = "proto3";

package wippersnapper.signal.v1;

import "wippersnapper/pin/v1/pin.proto";
import "wippersnapper/sensor/v1/sensor.proto";


message CreateSignalRequest {
  oneof payload {
    // Create, update or remove a GPIO pin
    wippersnapper.pin.v1.ConfigurePinRequests pin_configs               = 6;
    // Update a pin's state
    wippersnapper.pin.v1.PinEvents pin_events                           = 7;
    // Create, update or remove a sensor
    wippersnapper.sensor.v1.AttachOrUpdateSensorRequests sensor_configs = 8;
    // Updates a sensor's state
    wippersnapper.sensor.v1.SensorEventRequests sensor_events           = 9;
    // Create, update or remove a PWM output pin
    wippersnapper.pin.v1.ConfigurePWMPinRequests pwm_pin_config         = 10;
    // Write duty cycle to a PWM output pin
    wippersnapper.pin.v1.PWMPinEvents pwm_pin_event                     = 12;
  }
}

message CreateSignalResponse {
  // ACKs a _Response
  repeated wippersnapper.pin.v1.ConfigurePinResponse pin_create_resps               = 6;
  repeated wippersnapper.pin.v1.PinEventResponse pin_update_resps                   = 7;
  repeated wippersnapper.sensor.v1.AttachOrUpdateSensorResponse sensor_attach_resps = 8;
  repeated wippersnapper.sensor.v1.SensorEventResponse sensor_event_resps           = 9;
}
