// SPDX-FileCopyrightText: 2020 Brent Rubell for Adafruit Industries
// SPDX-License-Identifier: MIT
syntax = "proto3";

package wippersnapper.signal.v1;

import "wippersnapper/pin/v1/pin.proto";
import "wippersnapper/sensor/v1/sensor.proto";
import "wippersnapper/pixel/v1/pixel.proto";

import "nanopb/nanopb.proto";

message CreateSignalRequest {
  option (nanopb_msgopt).submsg_callback = true;
  oneof payload {
    // Create, update or remove a GPIO pin
    wippersnapper.pin.v1.ConfigurePinRequests pin_configs               = 1;
    // Update a pins state
    wippersnapper.pin.v1.PinEvent pin_event                             = 2;
  }
}

message CreateSignalResponse {
  repeated wippersnapper.sensor.v1.AttachOrUpdateSensorResponse sensor_attach_resps = 1;
}
