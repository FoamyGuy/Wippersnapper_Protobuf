// SPDX-FileCopyrightText: 2020 Brent Rubell for Adafruit Industries
// SPDX-License-Identifier: MIT
syntax = "proto3";

package wippersnapper.signal.v1;

import "wippersnapper.location.v1.location.proto";
import "wippersnapper.pin.v1.pin.proto";
import "wippersnapper.sensor.v1.sensor.proto";


message CreateSignalRequest {
  // Create, update or remove a GPIO pin
  repeated ConfigurePinRequest pin_configs               = 6;
  // Updates a pin's state
  repeated ObseletePinEventRequest pin_events            = 7;

  // Create, update or remove a sensor
  repeated AttachOrUpdateSensorRequest sensor_configs = 8;
  // Updates a sensor's state
  repeated SensorEventRequest sensor_events           = 9;

  // Create, update or remove a PWM output pin
  repeated ConfigurePWMPinRequest pwm_pin_config         = 10;

  // Write duty cycle to a PWM output pin
  repeated PWMPinEvent pwm_pin_event                     = 12;
}

message CreateSignalResponse {
  // ACKs a _Response
  repeated ConfigurePinResponse pin_create_resps               = 6;
  repeated PinEventResponse pin_update_resps                   = 7;
  repeated AttachOrUpdateSensorResponse sensor_attach_resps = 8;
  repeated SensorEventResponse sensor_event_resps           = 9;
}
